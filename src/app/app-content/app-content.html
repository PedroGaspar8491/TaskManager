<div class="content-container" *ngIf="selectedTopic?.id !== -1; else noTopic">
  <h1>{{ selectedTopic.name }}</h1>

  <h2>
    Checklist ({{ getDoneCount() }} / {{ selectedTopic.checkList.length }})
  </h2>

  <div class="checklist">
    <ng-container
      *ngIf="selectedTopic.checkList.length > 0; else emptyChecklist"
    >
      <div
        class="checklist-item"
        *ngFor="let item of selectedTopic.checkList; trackBy: trackByItem"
      >
        <span>{{ item.text }}</span>
        <input
          type="checkbox"
          [checked]="item.done"
          (change)="toggleItem(selectedTopic.id, item.id)"
          [attr.aria-label]="'Toggle ' + item.text"
        />
      </div>
    </ng-container>

    <ng-template #emptyChecklist>
      <h2>No Items In Checklist</h2>
    </ng-template>
  </div>
  <input
    type="text"
    placeholder="Add Item"
    aria-label="Add checklist item"
    #addItem
    (keydown.enter)="
      addCheckListItem(selectedTopic.id, addItem.value); addItem.value = ''
    "
  />
</div>

<ng-template #noTopic>
  <h1>Add New Topic</h1>
  <input
    type="text"
    placeholder="Add Topic"
    aria-label="Add new topic"
    #topic
    (keydown.enter)="addTopic(topic.value); topic.value = ''"
  />
</ng-template>
